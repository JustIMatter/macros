if(@autoswitchflag);
    log("Autoswitch Disabled");
    unset(@autoswitchflag);
    stop();
else;
    log("Autoswitch Enabled");
    set(@autoswitchflag);
    do;
        if((LMOUSE) && (GUI = "NONE"));
            if(MODE = 0)
                ifmatches(%HITID%,"dirt|^clay$|grass|^sand$|gravel|snow|snow_layer|soul_sand|mycelium|farmland");
                    pick("wooden_shovel","stone_shovel","iron_shovel","golden_shovel","diamond_shovel");
                    set(pressed);
                else;
                    ifmatches(%HITID%,"cobblestone|^stone$|mossy_cobblestone|stonebrick|hardened_clay|stained_hardened_clay|sandstone|anvil|obsidian|ender_chest|stone_slab|double_stone_slab|stone_stairs|brick_stairs|stone_brick_stairs|nether_brick_stairs|sandstone_stairs|quartz_stairs|rail|golden_rail|activator_rail|detector_rail|hopper|stone_pressure_plate|light_weighted_pressure_plate|heavy_weighted_pressure_plate|enchanting_table|furnace|lit_furnace|dispenser|dropper|netherrack|ice|packed_ice|mob_spawner|brick_block|nether_brick|brewing_stand|cauldron|cobblestone_wall|nether_brick_fence|iron_door|iron_bars|coal_block|coal_ore|gold_block|gold_ore|diamond_block|diamond_ore|iron_block|iron_ore|lapis_block|lapis_ore|quartz_ore|quartz_block|emerald_block|emerald_ore|redstone_block|redstone_ore|lit_redstone_ore|end_stone|iron_trapdoor");
                        pick("wooden_pickaxe","stone_pickaxe","iron_pickaxe","golden_pickaxe","diamond_pickaxe");
                        set(pressed);
                    else;
                        ifmatches(%HITID%,"planks|wooden_slab|double_wooden_slab|bookshelf|oak_stairs|spruce_stairs|birch_stairs|jungle_stairs|acacia_stairs|dark_oak_stairs|pumpkin|lit_pumpkin|wooden_pressure_plate|brown_mushroom_block|red_mushroom_block|log|log2|chest|trapped_chest|crafting_table|jukebox|daylight_detector|noteblock|fence|fence_gate|trapdoor|wooden_trapdoor|wooden_door|standing_sign|wall_sign|cocoa");
                            pick("wooden_axe","stone_axe","iron_axe","golden_axe","diamond_axe");
                            set(pressed);
                        else;
                            if(%HITID% = "web");
                                pick("wooden_sword","stone_sword","iron_sword","golden_sword","diamond_sword","shears");
                                set(pressed);
                            else;
                                if((HIT = "PLAYER") || (HIT = "ENTITY"));
                                    pick("wooden_sword","stone_sword","iron_sword","golden_sword","diamond_sword");
                                    set(pressed);
                                else;
                                    if(%HITID% = "monster_egg");
                                        log("WARNING! This is a silverfish block!");
                                    else;
                                        pick("%&currentitem%");
                                    endif;
                                endif;
                            endif;
                        endif;
                    endif;
                endif;
            endif;
        endif;
        if(MODE = 0);
            if((LMOUSE) && (GUI = "NONE"));
            else;
                if(pressed);
                    slot("%&currentitem%");
                    unset(pressed);
                else;
                    set(&currentitem,%INVSLOT%);
                endif;
            endif;
        endif;
    while(@autoswitchflag);
endif;